apply plugin: 'com.android.library'

android {
    compileSdkVersion gradle.api.toInteger()
    buildToolsVersion "$BUILD_TOOLS_VERSION"

    defaultConfig {
        minSdkVersion 16
        targetSdkVersion gradle.api.toInteger()
        versionCode 1
        versionName "1.0"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    android.libraryVariants.all {
        variant ->
            if (variant.buildType.name == android.signingConfigs.debug.getName()) {
                variant.outputs.each {
                    output ->
                        def outputFile = output.outputFile
                        if (outputFile != null && outputFile.name.endsWith('.aar')) {

                            //这里修改apk文件名
                            def fileName = "mth_library.aar"
                            output.outputFile = new File(outputFile.parent, fileName)
                            println '更改生成的AAR名字-----' + output.outputFile.name
                        }
                }
            }
    }

}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:24.2.1'
}
task hello

def c() {
    println("library --------gradle  third init ")
    println " library  调用公共方法 = " + getVersionNameAdvanced()
}

c()

/*
println "In Library.gradle, gradle id is " +gradle.hashCode()
println "Home Dir:" + gradle.gradleHomeDir
println "User Home Dir:" + gradle.gradleUserHomeDir
println "Parent: " + gradle.parent*/


